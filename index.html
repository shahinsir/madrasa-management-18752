<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>মাদ্রাসা ম্যানেজমেন্ট সিস্টেম</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- PWA Configurations -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="https://i.ibb.co.com/hhVX9hp/android-chrome-192x192.png">
    <link rel="apple-touch-icon" href="https://i.ibb.co.com/hhVX9hp/android-chrome-192x192.png">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="মাদ্রাসা ম্যানেজমেন্ট">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap');
        
        /* Base Styles */
        body { 
            font-family: 'Hind Siliguri', sans-serif !important;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            -webkit-text-size-adjust: 100%;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        html {
            height: 100%;
            width: 100%;
            overflow-x: hidden;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .nav-tab {
            transition: all 0.3s ease;
        }
        
        .nav-tab.active {
            background: #4f46e5;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(79, 70, 229, 0.3);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .index-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }
        
        .madrasa-info {
            background: linear-gradient(135deg, #667eea20 0%, #764ba220 100%);
            border-radius: 10px;
            padding: 10px 15px;
            margin-top: 10px;
        }
        
        .info-item {
            display: inline-block;
            margin-right: 20px;
            font-size: 14px;
            color: #4a5568;
        }
        
        .info-item i {
            margin-right: 5px;
            color: #4f46e5;
        }
        
        .user-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .admin-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .user-badge-normal {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }
        
        /* PWA এবং মোবাইল ফিক্স */
        @media (display-mode: standalone) {
            body {
                height: 100vh;
                height: -webkit-fill-available;
                padding: 0 !important;
                margin: 0 !important;
            }
            
            #app-container {
                height: 100vh;
                height: -webkit-fill-available;
                padding: 0;
                margin: 0;
            }
            
            .glass-card {
                margin: 8px;
            }
            
            #loginModal {
                padding: 0;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            }
            
            #loginModal .glass-card {
                border-radius: 0;
                height: 100vh;
                height: -webkit-fill-available;
                display: flex;
                flex-direction: column;
                justify-content: center;
                margin: 0;
                padding: 20px;
            }
            
            /* সেফ এরিয়া সাপোর্ট */
            .safe-area-top {
                padding-top: env(safe-area-inset-top);
            }
            
            .safe-area-bottom {
                padding-bottom: env(safe-area-inset-bottom);
            }
        }
        
        /* মোবাইল রেস্পন্সিভ ফিক্স */
        @media (max-width: 768px) {
            body {
                padding: 8px !important;
            }
            
            .madrasa-info {
                display: flex;
                flex-direction: column;
                gap: 8px;
            }
            
            .info-item {
                display: block;
                margin-right: 0;
                margin-bottom: 5px;
                font-size: 12px;
            }
            
            /* টেবিল স্ক্রল ফিক্স */
            .overflow-x-auto {
                -webkit-overflow-scrolling: touch;
                overflow-x: auto;
            }
            
            /* লগইন মডেল ফিক্স */
            #loginModal {
                padding: 0;
            }
            
            #loginModal .glass-card {
                border-radius: 0;
                margin: 0;
                min-height: 100vh;
                min-height: -webkit-fill-available;
            }
            
            .login-logo {
                width: 70px;
                height: 70px;
                font-size: 20px;
            }
            
            .login-title {
                font-size: 20px;
            }
            
            /* ফর্ম এলিমেন্ট ফিক্স */
            input, select, button {
                font-size: 16px !important;
                min-height: 44px; /* টাচ টার্গেট সাইজ */
            }
            
            /* প্যাডিং রিডিউস */
            .p-4 {
                padding: 12px;
            }
            
            .p-6 {
                padding: 16px;
            }
            
            /* গ্রিড গ্যাপ রিডিউস */
            .gap-6 {
                gap: 12px;
            }
            
            /* টেক্সট সাইজ এডজাস্ট */
            .text-3xl {
                font-size: 1.75rem;
            }
            
            .text-4xl {
                font-size: 2rem;
            }
            
            h1 {
                font-size: 1.5rem !important;
            }
            
            /* নেভিগেশন ট্যাব */
            .nav-tab {
                padding: 8px 12px;
                font-size: 13px;
                margin: 2px;
            }
            
            .nav-tab i {
                margin-right: 4px;
                font-size: 14px;
            }
        }
        
        /* iOS স্পেসিফিক ফিক্স */
        @supports (-webkit-touch-callout: none) {
            body {
                height: -webkit-fill-available;
            }
            
            .min-h-screen {
                min-height: -webkit-fill-available;
            }
            
            input, textarea {
                font-size: 16px !important;
            }
        }
        
        /* লগইন স্ক্রিন স্টাইলস */
        .login-container {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .login-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .login-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            font-weight: bold;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .login-title {
            font-size: 24px;
            font-weight: 700;
            color: #4a5568;
            margin-bottom: 8px;
        }
        
        .login-subtitle {
            font-size: 14px;
            color: #718096;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4a5568;
        }
        
        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
            box-sizing: border-box;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .password-container {
            position: relative;
        }
        
        .toggle-password {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #718096;
            cursor: pointer;
            padding: 5px;
            min-height: auto;
        }
        
        .login-button {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            min-height: 48px;
        }
        
        .login-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        .login-footer {
            text-align: center;
            margin-top: 20px;
            font-size: 13px;
            color: #a0aec0;
        }
        
        .role-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin: 5px;
        }
        
        .badge-admin {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .badge-user {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }
        
        .login-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        /* ফোর্স ডার্ক মোড ডিসেবল */
        @media (prefers-color-scheme: dark) {
            .glass-card {
                background: rgba(255, 255, 255, 0.95) !important;
                color: #000 !important;
            }
            
            body {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
            }
        }
        
        /* খুব ছোট স্ক্রিনের জন্য */
        @media (max-width: 360px) {
            .nav-tab {
                padding: 6px 8px;
                font-size: 12px;
            }
            
            .login-title {
                font-size: 18px;
            }
            
            .login-subtitle {
                font-size: 12px;
            }
        }
        
        /* হরাইজন্টাল ওরিয়েন্টেশনের জন্য */
        @media (orientation: landscape) and (max-height: 500px) {
            #loginModal .glass-card {
                padding-top: 40px;
                padding-bottom: 40px;
                overflow-y: auto;
            }
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8" id="app-container">

    <!-- লগইন মডেল -->
    <div id="loginModal" class="fixed inset-0 bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center z-50 login-container">
        <div class="glass-card p-8 w-full max-w-md shadow-2xl">
            <div class="login-header">
                <div class="login-logo">
                    MA
                </div>
                <h1 class="login-title">মাদ্রাসা ম্যানেজমেন্ট</h1>
                <p class="login-subtitle">মেহেরপুর আনছারুল উলূম আলিম মাদ্রাসা</p>
                <div class="flex justify-center mt-4">
                    <span class="role-badge badge-admin">এডমিন</span>
                    <span class="role-badge badge-user">ইউজার</span>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">ইমেইল এড্রেস</label>
                <input type="email" id="loginEmail" class="form-input" placeholder="আপনার ইমেইল লিখুন" value="admin@madrasa.com">
            </div>
            
            <div class="form-group">
                <label class="form-label">পাসওয়ার্ড</label>
                <div class="password-container">
                    <input type="password" id="loginPassword" class="form-input pr-12" placeholder="আপনার পাসওয়ার্ড লিখুন" value="password123">
                    <button type="button" class="toggle-password" onclick="togglePassword()">
                        <i class="fas fa-eye"></i>
                    </button>
                </div>
            </div>
            
            <div class="login-options">
                <label class="flex items-center">
                    <input type="checkbox" id="rememberMe" class="rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50" checked>
                    <span class="ml-2 text-gray-700">মনে রাখুন</span>
                </label>
                <a href="#" class="text-blue-600 hover:text-blue-800 text-sm" onclick="showForgotPassword()">
                    পাসওয়ার্ড ভুলে গেছেন?
                </a>
            </div>
            
            <button onclick="login()" class="login-button">
                <i class="fas fa-sign-in-alt mr-2"></i>লগইন করুন
            </button>
            
            <div class="login-footer mt-6 pt-6 border-t border-gray-200">
                <p class="text-sm text-gray-600">
                    <strong>ডিফল্ট এডমিন:</strong> admin@madrasa.com / password123<br>
                    <strong>ডিফল্ট ইউজার:</strong> user@madrasa.com / viewer123
                </p>
                <p class="text-xs mt-3 text-gray-500">
                    EIIN: ১৩০২৯০ | মাদ্রাসা কোড: ১৮৭৫২
                </p>
            </div>
        </div>
    </div>

    <div class="max-w-7xl mx-auto hidden" id="main-content">
        <!-- হেডার -->
        <div class="glass-card p-4 md:p-6 mb-6 safe-area-top">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="text-center md:text-left mb-4 md:mb-0">
                    <div class="flex flex-col md:flex-row items-center gap-3">
                        <h1 class="text-xl md:text-3xl font-bold gradient-text">মেহেরপুর আনছারুল উলূম আলিম মাদ্রাসা</h1>
                        <span id="userRoleBadge" class="user-badge hidden md:inline-block"></span>
                    </div>
                    
                    <!-- মাদ্রাসা তথ্য -->
                    <div class="madrasa-info mt-3">
                        <span class="info-item">
                            <i class="fas fa-hashtag"></i>মাদ্রাসা কোড: <strong>১৮৭৫২</strong>
                        </span>
                        <span class="info-item">
                            <i class="fas fa-id-card"></i>EIIN No: <strong>১৩০২৯০</strong>
                        </span>
                        <span class="info-item">
                            <i class="fas fa-phone"></i>মোবাইল: <strong>০১৩০৯-১৩০২৯০</strong>
                        </span>
                        <span class="info-item">
                            <i class="fas fa-map-marker-alt"></i>মেহেরপুর, গোলাপগঞ্জ, সিলেট
                        </span>
                    </div>
                    
                    <p class="text-gray-600 mt-2 text-sm">সম্পূর্ণ ডিজিটাল ম্যানেজমেন্ট সিস্টেম</p>
                </div>
                <div class="flex items-center space-x-3">
                    <div class="text-right">
                        <p class="text-gray-600 text-sm" id="currentDateBangla"></p>
                        <p class="text-xs text-gray-500" id="currentTime"></p>
                        <button onclick="logout()" class="text-xs text-red-600 hover:text-red-800 mt-1">
                            <i class="fas fa-sign-out-alt mr-1"></i>লগআউট
                        </button>
                    </div>
                    <div class="w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-sm md:text-base">
                        MA
                    </div>
                </div>
            </div>
        </div>

        <!-- নেভিগেশন ট্যাব -->
        <div class="glass-card p-3 mb-6">
            <div class="flex flex-wrap gap-1 md:gap-2 justify-center">
                <button onclick="showSection('dashboard')" id="tab-dashboard" class="nav-tab px-3 md:px-6 py-2 md:py-3 rounded-lg bg-blue-50 text-blue-700 font-semibold active">
                    <i class="fas fa-tachometer-alt mr-1 md:mr-2 text-xs md:text-base"></i><span class="text-xs md:text-sm">ড্যাশবোর্ড</span>
                </button>
                <button onclick="showSection('students')" id="tab-students" class="nav-tab px-3 md:px-6 py-2 md:py-3 rounded-lg bg-green-50 text-green-700 font-semibold">
                    <i class="fas fa-user-graduate mr-1 md:mr-2 text-xs md:text-base"></i><span class="text-xs md:text-sm">ছাত্র</span>
                </button>
                <button onclick="showSection('teachers')" id="tab-teachers" class="nav-tab px-3 md:px-6 py-2 md:py-3 rounded-lg bg-purple-50 text-purple-700 font-semibold">
                    <i class="fas fa-chalkboard-teacher mr-1 md:mr-2 text-xs md:text-base"></i><span class="text-xs md:text-sm">শিক্ষক</span>
                </button>
                <button onclick="showSection('finance')" id="tab-finance" class="nav-tab px-3 md:px-6 py-2 md:py-3 rounded-lg bg-red-50 text-red-700 font-semibold">
                    <i class="fas fa-money-bill-wave mr-1 md:mr-2 text-xs md:text-base"></i><span class="text-xs md:text-sm">আর্থিক</span>
                </button>
            </div>
        </div>

        <!-- বাকি সব কোড একই থাকবে (আপনার মূল কোড) -->
        <!-- ড্যাশবোর্ড সেকশন -->
        <div id="section-dashboard" class="section-content">
            <!-- সারাংশ কার্ড -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-6 mb-6 md:mb-10">
                <div class="bg-gradient-to-r from-green-500 to-green-600 p-4 md:p-6 rounded-2xl text-white shadow-lg">
                    <div class="flex justify-between items-center">
                        <h3 class="text-sm md:text-lg">মোট ছাত্র</h3>
                        <i class="fas fa-user-graduate text-xl md:text-2xl opacity-50"></i>
                    </div>
                    <p class="text-2xl md:text-3xl font-bold mt-2"><span id="totalStudents">0</span></p>
                    <p class="text-xs md:text-sm opacity-80 mt-1">সকল শ্রেণির</p>
                </div>

                <div class="bg-gradient-to-r from-purple-500 to-purple-600 p-4 md:p-6 rounded-2xl text-white shadow-lg">
                    <div class="flex justify-between items-center">
                        <h3 class="text-sm md:text-lg">মোট শিক্ষক</h3>
                        <i class="fas fa-chalkboard-teacher text-xl md:text-2xl opacity-50"></i>
                    </div>
                    <p class="text-2xl md:text-3xl font-bold mt-2"><span id="totalTeachers">0</span></p>
                    <p class="text-xs md:text-sm opacity-80 mt-1">সকল বিভাগ</p>
                </div>

                <div class="bg-gradient-to-r from-blue-500 to-blue-600 p-4 md:p-6 rounded-2xl text-white shadow-lg">
                    <div class="flex justify-between items-center">
                        <h3 class="text-sm md:text-lg">মাসিক আয়</h3>
                        <i class="fas fa-arrow-up text-xl md:text-2xl opacity-50"></i>
                    </div>
                    <p class="text-2xl md:text-3xl font-bold mt-2">৳ <span id="monthlyIncome">0</span></p>
                    <p class="text-xs md:text-sm opacity-80 mt-1">এই মাসের</p>
                </div>

                <div class="bg-gradient-to-r from-red-500 to-red-600 p-4 md:p-6 rounded-2xl text-white shadow-lg">
                    <div class="flex justify-between items-center">
                        <h3 class="text-sm md:text-lg">মাসিক ব্যয়</h3>
                        <i class="fas fa-arrow-down text-xl md:text-2xl opacity-50"></i>
                    </div>
                    <p class="text-2xl md:text-3xl font-bold mt-2">৳ <span id="monthlyExpense">0</span></p>
                    <p class="text-xs md:text-sm opacity-80 mt-1">এই মাসের</p>
                </div>
            </div>

            <!-- রিসেন্ট অ্যাক্টিভিটি -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                <div class="glass-card p-4 md:p-6">
                    <h3 class="text-lg md:text-xl font-bold mb-3 md:mb-4 text-gray-700 flex items-center">
                        <i class="fas fa-history mr-2 text-blue-500"></i>
                        সাম্প্রতিক লেনদেন
                    </h3>
                    <div class="space-y-3 max-h-60 md:max-h-80 overflow-y-auto">
                        <div id="recentTransactions" class="space-y-2 md:space-y-3">
                            <!-- রিসেন্ট লেনদেন -->
                        </div>
                    </div>
                </div>

                <div class="glass-card p-4 md:p-6">
                    <h3 class="text-lg md:text-xl font-bold mb-3 md:mb-4 text-gray-700 flex items-center">
                        <i class="fas fa-chart-pie mr-2 text-green-500"></i>
                        শ্রেণি ভিত্তিক ছাত্র সংখ্যা
                    </h3>
                    <div class="space-y-2 md:space-y-3">
                        <div id="classDistribution">
                            <!-- শ্রেণি ভিত্তিক ডিস্ট্রিবিউশন -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ছাত্র-ছাত্রী সেকশন -->
        <div id="section-students" class="section-content hidden">
            <div class="glass-card p-4 md:p-6 mb-4 md:mb-6">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-4 md:mb-6">
                    <h3 class="text-lg md:text-2xl font-bold text-gray-700 mb-3 md:mb-0">
                        <i class="fas fa-user-graduate mr-2 text-green-500"></i>
                        ছাত্র-ছাত্রী তথ্য
                    </h3>
                    <div class="flex space-x-2">
                        <button onclick="exportStudentData()" class="px-3 md:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm">
                            <i class="fas fa-file-export mr-1 md:mr-2"></i>এক্সপোর্ট
                        </button>
                        <button id="addStudentBtn" onclick="showAddStudentModal()" class="px-3 md:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm">
                            <i class="fas fa-user-plus mr-1 md:mr-2"></i>নতুন ছাত্র
                        </button>
                    </div>
                </div>

                <!-- ফিল্টার অপশন -->
                <div class="mb-4 md:mb-6">
                    <div class="flex flex-wrap gap-2 md:gap-4 items-center">
                        <select id="filterClass" onchange="filterStudents()" class="p-2 border rounded-lg text-sm w-full md:w-auto">
                            <option value="">সকল শ্রেণি</option>
                            <option value="1">১ম শ্রেণি</option>
                            <option value="2">২য় শ্রেণি</option>
                            <option value="3">৩য় শ্রেণি</option>
                            <option value="4">৪র্থ শ্রেণি</option>
                            <option value="5">৫ম শ্রেণি</option>
                            <option value="6">৬ষ্ঠ শ্রেণি</option>
                            <option value="7">৭ম শ্রেণি</option>
                            <option value="8">৮ম শ্রেণি</option>
                            <option value="9">৯ম শ্রেণি</option>
                            <option value="10">১০ম শ্রেণি</option>
                            <option value="11">১১তম শ্রেণি</option>
                            <option value="12">১২তম শ্রেণি</option>
                        </select>
                        
                        <div class="relative w-full md:w-auto">
                            <input type="text" id="searchStudent" placeholder="নাম অনুসন্ধান..." 
                                   class="p-2 pl-10 border rounded-lg w-full md:w-64 text-sm" onkeyup="filterStudents()">
                            <i class="fas fa-search text-gray-400 absolute left-3 top-3"></i>
                        </div>
                    </div>
                </div>

                <!-- ছাত্র টেবিল -->
                <div class="overflow-x-auto rounded-lg border">
                    <table class="w-full text-sm md:text-base">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="p-2 md:p-3 text-left">#</th>
                                <th class="p-2 md:p-3 text-left">রোল</th>
                                <th class="p-2 md:p-3 text-left">নাম</th>
                                <th class="p-2 md:p-3 text-left">শ্রেণি</th>
                                <th class="p-2 md:p-3 text-left">পিতার নাম</th>
                                <th class="p-2 md:p-3 text-left">মোবাইল</th>
                                <th class="p-2 md:p-3 text-left">কার্যক্রম</th>
                            </tr>
                        </thead>
                        <tbody id="studentTableBody">
                            <!-- ছাত্র তথ্য -->
                        </tbody>
                    </table>
                </div>
                
                <!-- খালি অবস্থা -->
                <div id="emptyStudents" class="text-center py-8 md:py-12 hidden">
                    <i class="fas fa-user-graduate text-3xl md:text-4xl text-gray-300 mb-3 md:mb-4"></i>
                    <h3 class="text-lg md:text-xl text-gray-500 mb-2">কোন ছাত্র-ছাত্রী নেই</h3>
                    <p class="text-gray-400 text-sm">ছাত্র-ছাত্রী তথ্য লোড হচ্ছে...</p>
                </div>
            </div>
        </div>

        <!-- শিক্ষক-কর্মচারী সেকশন -->
        <div id="section-teachers" class="section-content hidden">
            <div class="glass-card p-4 md:p-6">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-4 md:mb-6">
                    <h3 class="text-lg md:text-2xl font-bold text-gray-700 mb-3 md:mb-0">
                        <i class="fas fa-chalkboard-teacher mr-2 text-purple-500"></i>
                        শিক্ষক-কর্মচারী তথ্য
                    </h3>
                    <div class="flex space-x-2">
                        <button onclick="exportTeacherData()" class="px-3 md:px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm">
                            <i class="fas fa-file-export mr-1 md:mr-2"></i>এক্সপোর্ট
                        </button>
                        <button id="addTeacherBtn" onclick="showAddTeacherModal()" class="px-3 md:px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 text-sm">
                            <i class="fas fa-user-tie mr-1 md:mr-2"></i>নতুন শিক্ষক
                        </button>
                    </div>
                </div>

                <!-- শিক্ষক টেবিল -->
                <div class="overflow-x-auto rounded-lg border">
                    <table class="w-full text-sm md:text-base">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="p-2 md:p-3 text-left">#</th>
                                <th class="p-2 md:p-3 text-left">নাম</th>
                                <th class="p-2 md:p-3 text-left">পদবী</th>
                                <th class="p-2 md:p-3 text-left">বিষয়</th>
                                <th class="p-2 md:p-3 text-left">মোবাইল</th>
                                <th class="p-2 md:p-3 text-left">বেতন</th>
                                <th class="p-2 md:p-3 text-left">কার্যক্রম</th>
                            </tr>
                        </thead>
                        <tbody id="teacherTableBody">
                            <!-- শিক্ষক তথ্য -->
                        </tbody>
                    </table>
                </div>
                
                <!-- খালি অবস্থা -->
                <div id="emptyTeachers" class="text-center py-8 md:py-12 hidden">
                    <i class="fas fa-chalkboard-teacher text-3xl md:text-4xl text-gray-300 mb-3 md:mb-4"></i>
                    <h3 class="text-lg md:text-xl text-gray-500 mb-2">কোন শিক্ষক-কর্মচারী নেই</h3>
                    <p class="text-gray-400 text-sm">শিক্ষক-কর্মচারী তথ্য লোড হচ্ছে...</p>
                </div>
            </div>
        </div>

        <!-- আর্থিক ব্যবস্থাপনা সেকশন -->
        <div id="section-finance" class="section-content hidden">
            <div class="glass-card p-4 md:p-6 mb-4 md:mb-6">
                <h3 class="text-lg md:text-2xl font-bold text-gray-700 mb-4 md:mb-6">
                    <i class="fas fa-money-bill-wave mr-2 text-red-500"></i>
                    আর্থিক হিসাব
                </h3>
                
                <!-- আর্থিক সারাংশ -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-6 mb-6 md:mb-8">
                    <div class="bg-gradient-to-r from-green-500 to-green-600 p-4 md:p-6 rounded-2xl text-white shadow-lg">
                        <div class="flex justify-between items-center">
                            <h3 class="text-sm md:text-lg">মোট আয়</h3>
                            <i class="fas fa-arrow-up text-xl md:text-2xl opacity-50"></i>
                        </div>
                        <p class="text-2xl md:text-3xl font-bold mt-2">৳ <span id="financeIncome">0</span></p>
                    </div>

                    <div class="bg-gradient-to-r from-red-500 to-red-600 p-4 md:p-6 rounded-2xl text-white shadow-lg">
                        <div class="flex justify-between items-center">
                            <h3 class="text-sm md:text-lg">মোট ব্যয়</h3>
                            <i class="fas fa-arrow-down text-xl md:text-2xl opacity-50"></i>
                        </div>
                        <p class="text-2xl md:text-3xl font-bold mt-2">৳ <span id="financeExpense">0</span></p>
                    </div>

                    <div class="bg-gradient-to-r from-blue-500 to-blue-600 p-4 md:p-6 rounded-2xl text-white shadow-lg">
                        <div class="flex justify-between items-center">
                            <h3 class="text-sm md:text-lg">নেট ব্যালেন্স</h3>
                            <i class="fas fa-wallet text-xl md:text-2xl opacity-50"></i>
                        </div>
                        <p class="text-2xl md:text-3xl font-bold mt-2">৳ <span id="financeBalance">0</span></p>
                    </div>
                </div>

                <!-- লেনদেন ফর্ম -->
                <div id="financeForm" class="mb-6 md:mb-8 hidden">
                    <h4 class="text-lg md:text-xl font-semibold mb-3 md:mb-4 text-gray-700">নতুন লেনদেন যোগ করুন</h4>
                    <div class="grid grid-cols-1 md:grid-cols-5 gap-2 md:gap-4">
                        <input id="financeDesc" type="text" placeholder="খাতের বিবরণ" class="p-2 md:p-3 border rounded-lg text-sm">
                        <input id="financeAmount" type="number" placeholder="পরিমাণ (৳)" class="p-2 md:p-3 border rounded-lg text-sm">
                        <input id="financeDate" type="date" class="p-2 md:p-3 border rounded-lg text-sm">
                        <select id="financeType" class="p-2 md:p-3 border rounded-lg text-sm">
                            <option value="income">আয়</option>
                            <option value="expense">ব্যয়</option>
                        </select>
                        <button onclick="addFinancialTransaction()" class="bg-indigo-600 text-white p-2 md:p-3 rounded-lg hover:bg-indigo-700 text-sm">
                            <i class="fas fa-plus mr-1 md:mr-2"></i>যোগ করুন
                        </button>
                    </div>
                </div>

                <!-- লেনদেন তালিকা -->
                <div class="overflow-x-auto rounded-lg border">
                    <table class="w-full text-sm md:text-base">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="p-2 md:p-3 text-left">তারিখ</th>
                                <th class="p-2 md:p-3 text-left">খাত</th>
                                <th class="p-2 md:p-3 text-left">ধরণ</th>
                                <th class="p-2 md:p-3 text-left text-right">পরিমাণ (৳)</th>
                                <th class="p-2 md:p-3 text-left">কার্যক্রম</th>
                            </tr>
                        </thead>
                        <tbody id="financeTableBody">
                            <!-- আর্থিক লেনদেন -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ফুটার -->
        <div class="glass-card p-4 md:p-6 mt-6 text-center text-gray-600 safe-area-bottom">
            <p class="text-sm">© 2024 মেহেরপুর আনছারুল উলূম আলিম মাদ্রাসা। সকল অধিকার সংরক্ষিত।</p>
            <p class="text-xs mt-2">ডেভেলপড: মাদ্রাসা ম্যানেজমেন্ট সিস্টেম টিম | মাদ্রাসা কোড: ১৮৭৫২ | EIIN No: ১৩০২৯০</p>
            <p class="text-xs mt-1 text-blue-600" id="syncStatus">ডেটা সিঙ্কিং...</p>
        </div>
    </div>

    <!-- মডেল ফরম গুলো একই থাকবে -->
    <!-- addStudentModal -->
    <!-- addTeacherModal -->

    <!-- JavaScript কোড (পূর্বের মতই) -->
    <script>
        // আপনার আগের JavaScript কোড এখানে বসবে
        // শুধু নতুন ফাংশন যোগ করুন:
        
        // PWA ডিটেকশন এবং ফিক্স
        function detectPWA() {
            if (window.matchMedia('(display-mode: standalone)').matches) {
                document.body.classList.add('pwa-mode');
                document.getElementById('app-container').classList.add('pwa-mode');
                
                // iOS সেফ এরিয়া ফিক্স
                if (CSS.supports('padding-top: env(safe-area-inset-top)')) {
                    document.documentElement.style.setProperty('--safe-area-top', 'env(safe-area-inset-top)');
                    document.documentElement.style.setProperty('--safe-area-bottom', 'env(safe-area-inset-bottom)');
                }
            }
        }
        
        // পাসওয়ার্ড টগল ফাংশন
        function togglePassword() {
            const passwordInput = document.getElementById('loginPassword');
            const toggleBtn = document.querySelector('.toggle-password i');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleBtn.className = 'fas fa-eye-slash';
            } else {
                passwordInput.type = 'password';
                toggleBtn.className = 'fas fa-eye';
            }
        }
        
        // ফরগট পাসওয়ার্ড
        function showForgotPassword() {
            alert('অ্যাডমিনের সাথে যোগাযোগ করুন:\n০১৩০৯-১৩০২৯০\nঅথবা\nadmin@madrasa.com');
        }
        
        // PWA ইনস্টলেশন প্রম্পট
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
        });
        
        // DOM কন্টেন্ট লোড হওয়ার পর
        document.addEventListener('DOMContentLoaded', function() {
            detectPWA();
            // আপনার আগের ইনিশিয়াল কোড
        });
        
        // রেসাইজ হ্যান্ডলার
        window.addEventListener('resize', function() {
            detectPWA();
        });
        // Service Worker Registration
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('./sw.js')
      .then(registration => {
        console.log('ServiceWorker registered');
      })
      .catch(err => {
        console.log('ServiceWorker registration failed: ', err);
      });
  });
}
    </script>
</body>
</html>
